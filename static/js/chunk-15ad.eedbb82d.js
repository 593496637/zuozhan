(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-15ad"],{"0oE4":function(a,t,s){"use strict";s.r(t);var o=s("gDS+"),i=s.n(o),e={data:function(){return{tableData:[{name:"王小虎"},{name:"王小虎2"},{name:"王小虎3"},{name:"王小虎4"}],ztMap:"",markers:[],ztInfoWindow:"",oldOverlays:[],date:"",drawState:!1,state:"",sqName:"",jgName:"",address:"",plan:"",info:"",area:"",points:"",population:"",position:[],oldTask:[]}},methods:{init:function(){var a=this;this.results=[];var t=this;for(var s in this.ztMap=new AMap.Map("container",{zoom:14}),this.oldOverlays){var o=[];for(var i in this.oldOverlays[s].overlays){var e=[this.oldOverlays[s].overlays[i].lng,this.oldOverlays[s].overlays[i].lat];parseFloat(this.oldOverlays[s].overlays[i].lng),parseFloat(this.oldOverlays[s].overlays[i].lat),o.push(e)}this.oldOverlays[s].overlays.length,this.oldOverlays[s].overlays.length;new AMap.Polygon({map:this.ztMap,path:o,strokeColor:"#FF33FF",strokeOpacity:.2,strokeWeight:3,fillColor:this.oldOverlays[s].color,fillOpacity:.35});this.ztMap.setFitView()}var n=function(s){var o="";o="1"==a.oldTask[s].p7?"//a.amap.com/jsapi_demos/static/demo-center/icons/poi-marker-default.png":"//a.amap.com/jsapi_demos/static/demo-center/icons/poi-marker-red.png";var i=new AMap.Marker({position:new AMap.LngLat(t.oldTask[s].position[0],t.oldTask[s].position[1]),icon:new AMap.Icon({image:o,offset:new AMap.Pixel(-13,-30),imageSize:new AMap.Size(13,30)})});i.on("click",function(){var a=[];a.push("<div>社区名称："+t.oldTask[s].p1+"</div>"),a.push("<div>胡同机构名称："+t.oldTask[s].p2+"</div>"),a.push("<div>地址："+t.oldTask[s].p3+"</div>"),a.push("<div>面积："+t.oldTask[s].p4+"</div>"),a.push("<div>点位数："+t.oldTask[s].p5+"</div>"),a.push("<div>人口:"+t.oldTask[s].p6+"</div>"),a.push("<div>下一步安排："+t.oldTask[s].p8+"</div>"),"1"==t.oldTask[s].p7?a.push("<div>完成状态：已完成</div>"):a.push("<div>完成状态：未完成</div>"),console.log(a),t.ztInfoWindow=new AMap.InfoWindow({content:function(a,t){var s=document.createElement("div");s.className="custom-info input-card content-window-card";var o=document.createElement("div"),i=document.createElement("div");return o.className="info-top",i.innerHTML=a,o.appendChild(i),s.appendChild(o),s}(a.join("<br/>")),isCustom:!1,offset:new AMap.Pixel(16,-45)}),t.ztInfoWindow.open(t.ztMap,new AMap.LngLat(t.oldTask[s].position[0],t.oldTask[s].position[1]))}),t.markers.push(i),t.ztMap.add(i)};for(var r in this.oldTask)n(r)},updateMap:function(){try{var a=JSON.parse(localStorage.getItem("sqOverlays"));for(var t in a)this.oldOverlays.push(a[t]);console.log(this.oldOverlays)}catch(a){console.log(a)}this.init()},back:function(){this.$router.push({name:"task"})},clearMap:function(){for(var a in this.markers)this.ztMap.remove(this.markers[a]);this.markers=[]},createTask:function(){var a={p1:this.sqName,p2:this.jgName,p3:this.address,p4:this.area,p5:this.points,p6:this.population,p7:this.state,p8:this.plan,p9:this.date,position:this.position};console.log(a),this.oldTask.push(a);var t=i()(this.oldTask);localStorage.setItem("tasks",t)}},mounted:function(){this.oldTask=[],this.oldOverlays=[];try{var a=JSON.parse(localStorage.getItem("sqOverlays"));for(var t in a)this.oldOverlays.push(a[t])}catch(a){console.log(a)}try{var s=JSON.parse(localStorage.getItem("tasks"));for(var o in s)this.oldTask.push(s[o]);console.log(this.oldTask)}catch(a){console.log(a)}this.init()}},n=(s("BcpF"),s("KHd+")),r=Object(n.a)(e,function(){var a=this.$createElement,t=this._self._c||a;return t("div",[t("el-header",{staticClass:"header"},[t("el-button",{staticStyle:{margin:"10px"},attrs:{type:"primary"},on:{click:this.back}},[this._v("返回列表")])],1),this._v(" "),t("el-main",{staticClass:"main"},[t("div",{staticStyle:{height:"700px"},attrs:{id:"container"}})])],1)},[],!1,null,null,null);r.options.__file="taskMapList.vue";t.default=r.exports},BcpF:function(a,t,s){"use strict";var o=s("Yw77");s.n(o).a},Yw77:function(a,t,s){},"gDS+":function(a,t,s){a.exports={default:s("oh+g"),__esModule:!0}},"oh+g":function(a,t,s){var o=s("WEpk"),i=o.JSON||(o.JSON={stringify:JSON.stringify});a.exports=function(a){return i.stringify.apply(i,arguments)}}}]);